


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             Lotto, CODE, READONLY
    2 00000000                 IMPORT           main
    3 00000000                 EXPORT           start
    4 00000000         
    5 00000000         start
    6 00000000 E59F010C        LDR              R0, =TICKETS
    7 00000004 E5D0A000        LDRB             R10,[R0]
    8 00000008 E59F6108        LDR              R6, =COUNT  ;Number of Tickets
    9 0000000C E5966000        LDR              R6,[R6]
   10 00000010 E59F5104        LDR              R5, =DRAW
   11 00000014 E3A01000        LDR              R1, =0      ;Count 4 match 
   12 00000018 E3A02000        LDR              R2, =0      ;Count 5 match
   13 0000001C E3A03000        LDR              R3, =0      ;Count 6 match
   14 00000020 E3A07000        LDR              R7, =0      ;Number of tickets 
                                                            ran
   15 00000024 E3A09000        LDR              R9, =0      ;Count tickets
   16 00000028 E3A0C000        LDR              R12, =0     ;All ticket matches
                                                            
   17 0000002C         
   18 0000002C         While1
   19 0000002C E3570006        CMP              R7,#6       ;While less than 7 
                                                            numbers have been c
                                                            hecked(1 ticket)
   20 00000030 2A00000E        BHS              end1
   21 00000034 E59F80E0        LDR              R8, =DRAW   ;Address of winning
                                                             numbers
   22 00000038 E5D8B000        LDRB             R11,[R8]
   23 0000003C         
   24 0000003C         While2
   25 0000003C E2888001        ADD              R8, R8, #1  ;If the numbers are
                                                             the same add to ma
                                                            tch counter
   26 00000040 E5D8B000        LDRB             R11, [R8]
   27 00000044 E15A000B        CMP              R10,R11
   28 00000048 0A000002        BEQ              Count
   29 0000004C E35B0000        CMP              R11,#0      ;if there is no num
                                                            ber left to check b
                                                            reak
   30 00000050 0A00000D        BEQ              end2
   31 00000054 EAFFFFF8        B                While2
   32 00000058         
   33 00000058         Count
   34 00000058 E28CC001        ADD              R12,R12,#1  ;Add to match count
                                                            er
   35 0000005C E2888001        ADD              R8,R8,#1
   36 00000060 E5D8B000        LDRB             R11,[R8]    ;Load byte into R11
                                                            
   37 00000064 E35B0000        CMP              R11,#0
   38 00000068 0A000007        BEQ              end2
   39 0000006C EAFFFFF2        B                While2
   40 00000070         
   41 00000070         end1
   42 00000070 E2899001        ADD              R9,R9,#1    ;Add to count
   43 00000074 E35C0004        CMP              R12,#4      ;If 4 matches, bran
                                                            ch to Count4
   44 00000078 0A00000C        BEQ              Count4
   45 0000007C E35C0005        CMP              R12,#5      ;If 5 matches, bran
                                                            ch to Count5
   46 00000080 0A000010        BEQ              Count5



ARM Macro Assembler    Page 2 


   47 00000084 E35C0006        CMP              R12,#6
   48 00000088 0A000014        BEQ              Count6      ;If 6 matches, bran
                                                            ch to Count 6
   49 0000008C         
   50 0000008C         end2
   51 0000008C E2800001        ADD              R0,R0,#1    ;Next ticket
   52 00000090 E5D0A000        LDRB             R10,[R0]
   53 00000094 E2877001        ADD              R7,R7,#1    ;Add to count for t
                                                            ickets ran
   54 00000098 EAFFFFE3        B                While1
   55 0000009C         
   56 0000009C         nextTicket
   57 0000009C E3A07000        LDR              R7, =0      ;Reset tickets ran
   58 000000A0 E3A0C000        LDR              R12, =0     ;Reset matches
   59 000000A4 E1590006        CMP              R9,R6       ;Check if all ticke
                                                            ts have ran through
                                                            
   60 000000A8 2A000012        BHS              storeResults ;Store results
   61 000000AC EAFFFFDE        B                While1
   62 000000B0         
   63 000000B0         Count4
   64 000000B0 E2811001        ADD              R1,R1,#1    ;Add 1 to count of 
                                                            4 match
   65 000000B4 E3A07000        LDR              R7, =0
   66 000000B8 E3A0C000        LDR              R12, =0
   67 000000BC E1590006        CMP              R9,R6
   68 000000C0 2A00000C        BHS              storeResults
   69 000000C4 EAFFFFD8        B                While1
   70 000000C8         
   71 000000C8         Count5
   72 000000C8 E2822001        ADD              R2,R2,#1    ;Add 1 to count of 
                                                            5 match
   73 000000CC E3A07000        LDR              R7, =0
   74 000000D0 E3A0C000        LDR              R12, =0
   75 000000D4 E1590006        CMP              R9,R6
   76 000000D8 2A000006        BHS              storeResults
   77 000000DC EAFFFFD2        B                While1
   78 000000E0         
   79 000000E0         Count6
   80 000000E0 E2833001        ADD              R3,R3,#1    ;Add 1 to count of 
                                                            6 match
   81 000000E4 E3A07000        LDR              R7, =0
   82 000000E8 E3A0C000        LDR              R12, =0
   83 000000EC E1590006        CMP              R9,R6
   84 000000F0 2A000000        BHS              storeResults
   85 000000F4 EAFFFFCC        B                While1
   86 000000F8         
   87 000000F8         storeResults
   88 000000F8 E59F4020        LDR              R4, =MATCH4
   89 000000FC E5841000        STR              R1,[R4]
   90 00000100 E59F501C        LDR              R5, =MATCH5
   91 00000104 E5852000        STR              R2,[R5]
   92 00000108 E59F6018        LDR              R6, =MATCH6
   93 0000010C E5863000        STR              R3,[R6]
   94 00000110         
   95 00000110 EAFFFFFE 
                       stop    B                stop
   96 00000114         
   97 00000114         



ARM Macro Assembler    Page 3 


   98 00000114         
   99 00000114 00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000         AREA             TestData, DATA, READWRITE
  100 00000000         
  101 00000000 00000003 
                       COUNT   DCD              3           ; Number of Tickets
                                                            
  102 00000004 03 08 0B 
              15 16 1F TICKETS DCB              3, 8, 11, 21, 22, 31 ; Tickets
  103 0000000A 07 17 19 
              1C 1D 20         DCB              7, 23, 25, 28, 29, 32
  104 00000010 0A 0B 0C 
              16 1A 1E         DCB              10, 11, 12, 22, 26, 30
  105 00000016         
  106 00000016         
  107 00000016 0A 0B 0C 
              16 1A 1E DRAW    DCB              10, 11, 12, 22, 26, 30 
                                                            ; Lottery Draw
  108 0000001C         
  109 0000001C 00000000 
                       MATCH4  DCD              0
  110 00000020 00000000 
                       MATCH5  DCD              0
  111 00000024 00000000 
                       MATCH6  DCD              0
  112 00000028         
  113 00000028                 END
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\l
otto.d -o.\lotto.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC
:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__MICROLIB S
ETA 1" --predefine="__UVISION_VERSION SETA 524" --predefine="NO_CLOCK_SETUP SET
A 1" --predefine="NO_EMC_SETUP SETA 1" --predefine="RAM_INTVEC SETA 1" --predef
ine="RAM_MODE SETA 1" --predefine="REMAP SETA 1" --list=.\lotto.lst Lotto.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Count 00000058

Symbol: Count
   Definitions
      At line 33 in file Lotto.s
   Uses
      At line 28 in file Lotto.s
Comment: Count used once
Count4 000000B0

Symbol: Count4
   Definitions
      At line 63 in file Lotto.s
   Uses
      At line 44 in file Lotto.s
Comment: Count4 used once
Count5 000000C8

Symbol: Count5
   Definitions
      At line 71 in file Lotto.s
   Uses
      At line 46 in file Lotto.s
Comment: Count5 used once
Count6 000000E0

Symbol: Count6
   Definitions
      At line 79 in file Lotto.s
   Uses
      At line 48 in file Lotto.s
Comment: Count6 used once
Lotto 00000000

Symbol: Lotto
   Definitions
      At line 1 in file Lotto.s
   Uses
      None
Comment: Lotto unused
While1 0000002C

Symbol: While1
   Definitions
      At line 18 in file Lotto.s
   Uses
      At line 54 in file Lotto.s
      At line 61 in file Lotto.s
      At line 69 in file Lotto.s
      At line 77 in file Lotto.s
      At line 85 in file Lotto.s

While2 0000003C

Symbol: While2
   Definitions
      At line 24 in file Lotto.s
   Uses
      At line 31 in file Lotto.s



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

      At line 39 in file Lotto.s

end1 00000070

Symbol: end1
   Definitions
      At line 41 in file Lotto.s
   Uses
      At line 20 in file Lotto.s
Comment: end1 used once
end2 0000008C

Symbol: end2
   Definitions
      At line 50 in file Lotto.s
   Uses
      At line 30 in file Lotto.s
      At line 38 in file Lotto.s

nextTicket 0000009C

Symbol: nextTicket
   Definitions
      At line 56 in file Lotto.s
   Uses
      None
Comment: nextTicket unused
start 00000000

Symbol: start
   Definitions
      At line 5 in file Lotto.s
   Uses
      At line 3 in file Lotto.s
Comment: start used once
stop 00000110

Symbol: stop
   Definitions
      At line 95 in file Lotto.s
   Uses
      At line 95 in file Lotto.s
Comment: stop used once
storeResults 000000F8

Symbol: storeResults
   Definitions
      At line 87 in file Lotto.s
   Uses
      At line 60 in file Lotto.s
      At line 68 in file Lotto.s
      At line 76 in file Lotto.s
      At line 84 in file Lotto.s

13 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

COUNT 00000000

Symbol: COUNT
   Definitions
      At line 101 in file Lotto.s
   Uses
      At line 8 in file Lotto.s
Comment: COUNT used once
DRAW 00000016

Symbol: DRAW
   Definitions
      At line 107 in file Lotto.s
   Uses
      At line 10 in file Lotto.s
      At line 21 in file Lotto.s

MATCH4 0000001C

Symbol: MATCH4
   Definitions
      At line 109 in file Lotto.s
   Uses
      At line 88 in file Lotto.s
Comment: MATCH4 used once
MATCH5 00000020

Symbol: MATCH5
   Definitions
      At line 110 in file Lotto.s
   Uses
      At line 90 in file Lotto.s
Comment: MATCH5 used once
MATCH6 00000024

Symbol: MATCH6
   Definitions
      At line 111 in file Lotto.s
   Uses
      At line 92 in file Lotto.s
Comment: MATCH6 used once
TICKETS 00000004

Symbol: TICKETS
   Definitions
      At line 102 in file Lotto.s
   Uses
      At line 6 in file Lotto.s
Comment: TICKETS used once
TestData 00000000

Symbol: TestData
   Definitions
      At line 99 in file Lotto.s
   Uses
      None
Comment: TestData unused
7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

main 00000000

Symbol: main
   Definitions
      At line 2 in file Lotto.s
   Uses
      None
Comment: main unused
1 symbol
361 symbols in table
