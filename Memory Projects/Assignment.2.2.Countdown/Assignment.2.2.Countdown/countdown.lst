


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             Countdown, CODE, READONLY
    2 00000000                 IMPORT           main
    3 00000000                 EXPORT           start
    4 00000000         
    5 00000000         start
    6 00000000 E3A00000        LDR              R0, =0
    7 00000004 E59F10A0        LDR              R1, =cdWord ;Load origin addres
                                                            s of word
    8 00000008 E5D12000        LDRB             R2, [R1]    ;Word
    9 0000000C E59F309C        LDR              R3, =cdLetters ;Load origin add
                                                            ress of letters
   10 00000010 E5D34000        LDRB             R4, [R3]    ;Letters
   11 00000014 E3A05009        LDR              R5, =9      ;Count (Number of l
                                                            etters)
   12 00000018 E3A06021        LDR              R6, ='!'
   13 0000001C         
   14 0000001C         while
   15 0000001C E3550000        CMP              R5, #0      ;Check if count is 
                                                            0
   16 00000020 0A00000D        BEQ              endwh1      ;If  =0, 
   17 00000024 E1520004        CMP              R2, R4      ;If !=0, Compare le
                                                            tter of word to let
                                                            ter in list
   18 00000028 0A000003        BEQ              foundMatch  ;If match found, br
                                                            anch
   19 0000002C E2833001        ADD              R3, R3, #1  ;Otherwise, change 
                                                            to next byte/letter
                                                            
   20 00000030 E5D34000        LDRB             R4, [R3]    ;Load byte into R4
   21 00000034 E2455001        SUB              R5, R5, #1  ;Decrease count by 
                                                            1
   22 00000038 EAFFFFF7        B                while
   23 0000003C         
   24 0000003C         foundMatch
   25 0000003C E2455001        SUB              R5, R5, #1  ;Subtract one from 
                                                            count
   26 00000040 E5C36000        STRB             R6, [R3]    ;Store ! in R3
   27 00000044 E5D34000        LDRB             R4, [R3]    ;Reload letters 
   28 00000048 E5C16000        STRB             R6, [R1]    ;Store ! in R1
   29 0000004C E5D12000        LDRB             R2, [R1]    ;Reload word 
   30 00000050 E2833001        ADD              R3, R3, #1  ;Next letter
   31 00000054 E5D34000        LDRB             R4, [R3]    ;Load
   32 00000058 EAFFFFEF        B                while
   33 0000005C         
   34 0000005C         endwh1
   35 0000005C E3A05009        LDR              R5, =9      ;Reload count (numb
                                                            er of letters) into
                                                             R5
   36 00000060 E3520000        CMP              R2, #0      ;Compare letter wit
                                                            h 0
   37 00000064 0A000004        BEQ              reload      ;If equal to 0 bran
                                                            ch
   38 00000068 E2811001        ADD              R1, R1, #1  ;Next letter
   39 0000006C E5D12000        LDRB             R2, [R1]    ;Load into R2
   40 00000070 E59F3038        LDR              R3, =cdLetters ;Reload letters 
                                                            into R3
   41 00000074 E5D34000        LDRB             R4, [R3]    ;Load into R4
   42 00000078 EAFFFFE7        B                while
   43 0000007C         



ARM Macro Assembler    Page 2 


   44 0000007C         reload
   45 0000007C E59F1028        LDR              R1, =cdWord ;Reload origin addr
                                                            ess of word
   46 00000080 E5D12000        LDRB             R2, [R1]    ;Load into R2
   47 00000084 EAFFFFFF        B                while2
   48 00000088         
   49 00000088         while2
   50 00000088 E3520000        CMP              R2, #0      ;Compare word with 
                                                            0
   51 0000008C 0A000004        BEQ              plus        ;If =0 brbanch
   52 00000090 E1520006        CMP              R2, R6      ;Check if '!' in wo
                                                            rd
   53 00000094 1A000003        BNE              stopNow     ;If there is not en
                                                            d the program.
   54 00000098 E2811001        ADD              R1, R1, #1  ;If there is check 
                                                            next letter
   55 0000009C E5D12000        LDRB             R2, [R1]
   56 000000A0 EAFFFFF8        B                while2
   57 000000A4         
   58 000000A4         
   59 000000A4         plus
   60 000000A4 E2800001        ADD              R0, R0, #1  ;Adds one to R0 to 
                                                            indicate that the w
                                                            ord can be formed
   61 000000A8         
   62 000000A8         stopNow
   63 000000A8         
   64 000000A8         
   65 000000A8 EAFFFFFE 
                       stop    B                stop
   66 000000AC         
   67 000000AC         
   68 000000AC         
   69 000000AC 00000000 
              00000000 
              00000000 
              00000000         AREA             TestData, DATA, READWRITE
   70 00000000         
   71 00000000         cdWord
   72 00000000 68 65 6C 
              6C 6F 00         DCB              "hello",0
   73 00000006         
   74 00000006         cdLetters
   75 00000006 61 62 64 
              68 65 6C 
              6C 6F 6B 
              00               DCB              "abdhellok",0
   76 00000010         
   77 00000010                 END
Command Line: --debug --xref --diag_suppress=9931 --apcs=interwork --depend=.\c
ountdown.d -o.\countdown.o -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Inc
lude -IC:\Keil_v5\ARM\INC\Philips --predefine="__EVAL SETA 1" --predefine="__MI
CROLIB SETA 1" --predefine="__UVISION_VERSION SETA 524" --predefine="NO_CLOCK_S
ETUP SETA 1" --predefine="NO_EMC_SETUP SETA 1" --predefine="RAM_INTVEC SETA 1" 
--predefine="RAM_MODE SETA 1" --predefine="REMAP SETA 1" --list=.\countdown.lst
 Countdown.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Countdown 00000000

Symbol: Countdown
   Definitions
      At line 1 in file Countdown.s
   Uses
      None
Comment: Countdown unused
endwh1 0000005C

Symbol: endwh1
   Definitions
      At line 34 in file Countdown.s
   Uses
      At line 16 in file Countdown.s
Comment: endwh1 used once
foundMatch 0000003C

Symbol: foundMatch
   Definitions
      At line 24 in file Countdown.s
   Uses
      At line 18 in file Countdown.s
Comment: foundMatch used once
plus 000000A4

Symbol: plus
   Definitions
      At line 59 in file Countdown.s
   Uses
      At line 51 in file Countdown.s
Comment: plus used once
reload 0000007C

Symbol: reload
   Definitions
      At line 44 in file Countdown.s
   Uses
      At line 37 in file Countdown.s
Comment: reload used once
start 00000000

Symbol: start
   Definitions
      At line 5 in file Countdown.s
   Uses
      At line 3 in file Countdown.s
Comment: start used once
stop 000000A8

Symbol: stop
   Definitions
      At line 65 in file Countdown.s
   Uses
      At line 65 in file Countdown.s
Comment: stop used once
stopNow 000000A8

Symbol: stopNow



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 62 in file Countdown.s
   Uses
      At line 53 in file Countdown.s
Comment: stopNow used once
while 0000001C

Symbol: while
   Definitions
      At line 14 in file Countdown.s
   Uses
      At line 22 in file Countdown.s
      At line 32 in file Countdown.s
      At line 42 in file Countdown.s

while2 00000088

Symbol: while2
   Definitions
      At line 49 in file Countdown.s
   Uses
      At line 47 in file Countdown.s
      At line 56 in file Countdown.s

10 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

TestData 00000000

Symbol: TestData
   Definitions
      At line 69 in file Countdown.s
   Uses
      None
Comment: TestData unused
cdLetters 00000006

Symbol: cdLetters
   Definitions
      At line 74 in file Countdown.s
   Uses
      At line 9 in file Countdown.s
      At line 40 in file Countdown.s

cdWord 00000000

Symbol: cdWord
   Definitions
      At line 71 in file Countdown.s
   Uses
      At line 7 in file Countdown.s
      At line 45 in file Countdown.s

3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

main 00000000

Symbol: main
   Definitions
      At line 2 in file Countdown.s
   Uses
      None
Comment: main unused
1 symbol
354 symbols in table
